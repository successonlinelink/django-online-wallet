{% extends 'partials/base.html' %} 
{% load static %} 

{% block content %}

    <!-- bottom navbar start -->
    {% include 'home_i/footer_nav.html' %}
    <!-- bottom navbar end -->

    <!-- header start -->
    <header class="section-t-space">
        <div class="custom-container">
            <div class="header-panel">
                <a href="{% url 'account:dashboard' %}" class="back-btn">
                    <i class="icon" data-feather="arrow-left"></i>
                </a>
                <h2> Goals</h2>

                <a href="#add-card" class="back-btn" data-bs-toggle="modal">
                    <i class="icon" data-feather="plus"></i>
                </a>
            </div>
        </div>
    </header>
    <!-- header end -->
    
    <!-- saving plans section starts -->
    <section>
        <div class="custom-container">
            
            <div class="row">
                
                {% for g in goal %}
                    <a href="{% url 'core:goal-detail' g.gid %}" class="col-6 gap-4">
                        <div class="saving-plan-box mb-4">
                            <div class="saving-plan-icon">
                                <img class="img-fluid" src="{{g.image.url|default:''}}" alt="p10" />
                            </div>
                            <h3>{{g.goal_type }}</h3>
                            <h6>Current Saved</h6>
                            <h5 class="theme-color">${{g.current_amount }}</h5>
                            <hr>
                            <div class="d-flex justify-content-between align-items-center mt-2">
                                <h5 class="theme-color">Target ${{g.target_amount }}</h5>
                            </div>
                            <h6>Dead Line: &nbsp;{{g.deadline }}</h6>
                        </div>
                    </a>
                
                {% empty %}
                    <!-- pay-successfully section starts -->
                    <section class="section-b-space">
                        <div class="custom-container">
                            <div class="empty-page">
                                <img
                                    class="notification-img"
                                    class="img-fluid"
                                    src="{% static 'assets/images/svg/notification.svg' %}"
                                    alt="notification"
                                />
                                <h3 class="d-block fw-normal dark-text text-center mt-3">
                                    You don't have any Goal for now.
                                </h3>
                                <a href="#add-card" class="btn theme-btn successfully w-100" data-bs-toggle="modal"> Create One </a>
                            </div>
                        </div>
                    </section>
                    <!-- pay-successfully section end -->
                {% endfor %}

            </div>
        </div>
    </section>
    <!-- saving plans section end -->

    <!-- add card modal starts -->
    <div class="modal add-money-modal fade" id="add-card" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <form method="POST" class="modal-content" enctype="multipart/form-data">
                {% csrf_token %}

                <div class="modal-header">
                    <h2 class="modal-title">Add New Goal</h2>
                </div>
                
                <div class="modal-body">
                    
                    <div class="form-group">
                        <label for="inputcards" class="form-label mb-2">Image</label>
                        {{form.image}}
                    </div>

                    <div class="form-group">
                        <label for="inputcards" class="form-label mb-2">Type</label>
                        <div class="form-input mb-3">
                            {{form.goal_type}}
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="inputcards" class="form-label mb-2">Title</label>
                        {{form.title}}
                    </div>
                    
                    <div class="form-group">
                        <label for="inputcards" class="form-label mb-2">Target Amount</label>
                        {{form.target_amount}}
                    </div>
                    
                    <div class="form-group">
                        <label for="inputcards" class="form-label mb-2">Dead Line</label>
                        {{form.deadline}}
                    </div>
                    
                    <div class="form-group">
                        <label for="inputcards" class="form-label mb-2">Description</label>
                        {{form.description}}
                    </div>

                    <button type="submit" class="btn theme-btn successfully w-100">Add Goal</button>
                </div>
                <button type="button" class="btn close-btn" data-bs-dismiss="modal">
                    <i class="icon" data-feather="x"></i>
                </button>
            </form>
        </div>
    </div>
    <!-- add card modal end -->

    <!-- edit card modal starts -->
    <div class="modal add-money-modal fade" id="edit-card" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title">Edit Card</h2>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="inputcard" class="form-label mb-2">Card type</label>
                        <div class="d-flex gap-2">
                            <select id="inputcard" class="form-select">
                                <option>Select card type</option>
                                <option>Master Card</option>
                                <option selected="">Visa Card</option>
                                <option>RuPay Card</option>
                                <option>Business Card</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="inputcardnumber" class="form-label">Card Number</label>
                        <div class="form-input">
                            <input
                                type="text"
                                class="form-control"
                                id="inputcardnumber"
                                value="**** **** **** 2563"
                                placeholder="Enter card number"
                            />
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-7">
                            <div class="form-group">
                                <label class="form-label">Exp. Date</label>
                                <div class="form-input mb-3">
                                    <input type="date" value="2024-12-31" class="form-control" />
                                </div>
                            </div>
                        </div>
                        <div class="col-5">
                            <div class="form-group">
                                <label class="form-label">CVV</label>
                                <div class="form-input mb-3">
                                    <input type="number" class="form-control" placeholder="Enter cvv" />
                                </div>
                            </div>
                        </div>
                    </div>

                    <a href="cards.html" class="btn theme-btn successfully w-100">Edit Card</a>
                </div>
                <button type="button" class="btn close-btn" data-bs-dismiss="modal">
                    <i class="icon" data-feather="x"></i>
                </button>
            </div>
        </div>
    </div>
    <!-- edit card modal end -->

    <!-- delate card modal start -->
    <div class="modal error-modal fade" id="delate" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-body">
                    <div class="error-img">
                        <img class="img-fluid" src="assets/images/svg/delate.svg" alt="delate" />
                    </div>
                    <h3>Are you sure you want to delete this card ?</h3>
                    <a href="#done-delate" class="btn theme-btn successfully w-100" data-bs-toggle="modal">Delete card</a>
                </div>
                <button type="button" class="btn close-btn" data-bs-dismiss="modal">
                    <i class="icon" data-feather="x"></i>
                </button>
            </div>
        </div>
    </div>
    <!-- delate card modal end -->

    <!--successful delate card modal start -->
    <div class="modal error-modal fade" id="done-delate" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title">Successfully Delete</h2>
                </div>
                <div class="modal-body">
                    <div class="error-img">
                        <img class="img-fluid" src="assets/images/svg/delate.svg" alt="delate" />
                    </div>
                    <h3>Are you sure you want to delete this card ?</h3>
                </div>
                <button type="button" class="btn close-btn" data-bs-dismiss="modal">
                    <i class="icon" data-feather="x"></i>
                </button>
            </div>
        </div>
    </div>
    <!-- successful delate card modal end -->



{% endblock content %}